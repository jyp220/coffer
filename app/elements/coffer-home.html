<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/sc-swiper/sc-swiper.html">

<dom-module id="coffer-home">

  <template>

    <style>
      .coffer-summary{
        max-width:800px;
        margin:auto;
        padding-top:15px;
        text-align:center;
      }
      .coffer-summary a{
        background:url(/images/icon-coffer.png) 50% 10px no-repeat #f6f6f6;
        display:inline-block;
        width:29%;
        margin:0 1%;padding:43px 0 5px 0;
        text-decoration:none;
        font-weight:700;
        color:var(--app-primary-color);
        border-radius:20px;
      }
      .coffer-summary a span{
        display:block;
        margin-top:-5px;
        opacity:.7;
        font-size:18px;
        color:var(--app-primary-text-color);
      }
      ul,ol{
        list-style:none;
        margin:0;
        padding:0;
      }
      ul{margin-top:20px;}
      a{
        text-decoration:none
      }
      li:nth-child(even){
        background-color:rgba(0,0,0,.05);
      }

      .item {
        display: block;
        text-decoration: none;
        text-align: center;
        margin-bottom: 40px;
      }

      paper-card.rate { 
        @apply(--layout-horizontal); 
        padding: 20px;
        border-radius: 8px;
        background-color: white;
        border: 1px solid #ddd;
        max-width: 800px;
        margin: 16px auto 0 auto;
      }
      .rate-image {
        width: 100px;
        height: 150px;
        border-radius: 20px;
        box-sizing: border-box;
        background-color: #DDD;
      }
      .rate-content {
        padding: 0 16px;
        @apply(--layout-flex);
        float: left;
      }
      .rate-header { @apply(--paper-font-headline); }
      .rate-name { color: var(--paper-grey-600); margin: 10px 0; }

      
    </style>

    <coffer-category-data
      id="categoryData"
      category-name="unit"
      category="{{category}}"
      failure="{{failure}}"></coffer-category-data>

    <!-- <sc-swiper>
      <img src="/images/mens_outerwear.jpg">
      <img src="/images/ladies_outerwear.jpg">
      <img src="/images/mens_tshirts.jpg">
    </sc-swiper> -->
    <div class="coffer-summary">
      <a href="#">KHAKI FIELD<span>12</span></a>
      <a href="#">JAZZMASTER<span>9</span></a>
      <a href="#">AMERICAN CLAS..<span>158</span></a>
    </div>

<!--     <template is="dom-repeat" items="[[categories]]" strip-whitespace>
      <a href$="[[_goLinkTab(item.name)]]">
        <paper-card class="rate">
          <iron-image class="rate-image" sizing="contain" src="[[item.image]]"></iron-image>
          <div class="rate-content">
            <div class="card-content">
              <div class="rate-header">[[item.name]]</div>
              <div class="rate-name">[[item.title]]</div>
            </div>
          </div>
        </paper-card>
      </a>
    </template> -->

    <ul hidden$="[[failure]]">
      <template is="dom-repeat" items="[[_getListItems(category.items)]]" initial-count="4">
        <li>
          <a href$="[[_getItemHref(item)]]"><coffer-unit-list-item item="[[item]]"></coffer-unit-list-item></a>
        </li>
      </template>

      <template is="dom-repeat" items="[[unit]]" as="entry">
        <li>
          <a href$="[[_getItemHref(entry)]]"><coffer-unit-list-item item="[[entry]]"></coffer-unit-list-item></a>
        </li>
        <!-- <p>[[entry]]</p> -->
      </template>
    </ul>

  </template>

  <script>

    Polymer({

      is: 'coffer-home',

      properties: {

        categories: {
          type: Array
        },

        visible: {
          type: Boolean,
          observer: '_visibleChanged'
        }

      },

      _visibleChanged: function(visible) {
        if (visible) {
          this.fire('change-section', { title: 'Home' });
        }
      },

      _goLinkTab: function(category) {
        var link = '/home';
        if(category == 'home') {
          link = '/home';
        } else if (category == 'unit') {
          link = '/unit-list/' + category;
        } else if (category == 'coffer') {
          link = '/coffer-list/' + category;
        } else if (category == 'ladies_tshirts') {
          link = '/home';
        }
        return link;
      },

      _getListItems: function(items) {
        // Return placeholder items when the items haven't loaded yet.
        return items || [{},{},{},{},{},{},{},{},{},{}];
      },

      _getItemHref: function(item) {
        // By returning null when `itemId` is undefined, the href attribute won't be set and
        // the link will be disabled.
        return item.name ? ['/unit-detail-list', this.category.name, item.name].join('/') : null;
      }

    });

  </script>

</dom-module>
